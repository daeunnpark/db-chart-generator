{"ast":null,"code":"var _jsxFileName = \"/Users/Daeun/Desktop/db-chart-generator/src/main/js/src/components/Chart.js\";\nimport React, { Component } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nconst bar_options = {\n  chart: {\n    type: 'column'\n  },\n  title: {\n    text: 'Monthly Average Rainfall'\n  },\n  subtitle: {\n    text: 'Source: WorldClimate.com'\n  },\n  xAxis: {\n    categories: ['Jan', 'Feb', 'Mar'],\n    crosshair: true\n  },\n  yAxis: {\n    min: 0,\n    title: {\n      text: 'Rainfall (mm)'\n    }\n  },\n  tooltip: {\n    headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n    pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} mm</b></td></tr>',\n    footerFormat: '</table>',\n    shared: true,\n    useHTML: true\n  },\n  plotOptions: {\n    column: {\n      pointPadding: 0.2,\n      borderWidth: 0\n    }\n  },\n  series: [{\n    name: 'Tokyo',\n    data: [49.9, 71.5, 106.4]\n  }, {\n    name: 'New York',\n    data: [83.6, 78.8, 98.5]\n  }, {\n    name: 'London',\n    data: [48.9, 38.8, 39.3]\n  }, {\n    name: 'Berlin',\n    data: [42.4, 33.2, 34.5]\n  }]\n};\nconst pie_options = {\n  chart: {\n    plotBackgroundColor: null,\n    plotBorderWidth: null,\n    plotShadow: false,\n    type: 'pie'\n  },\n  title: {\n    text: 'Browser market shares in January, 2018'\n  },\n  tooltip: {\n    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n  },\n  plotOptions: {\n    pie: {\n      allowPointSelect: true,\n      cursor: 'pointer',\n      dataLabels: {\n        enabled: true,\n        format: '<b>{point.name}</b>: {point.percentage:.1f} %'\n      }\n    }\n  },\n  series: [{\n    name: 'Brands',\n    colorByPoint: true,\n    data: [{\n      name: 'Chrome',\n      y: 65,\n      sliced: true,\n      selected: true\n    }, {\n      name: 'Internet Explorer',\n      y: 11.84\n    }, {\n      name: 'Firefox',\n      y: 10.85\n    }, {\n      name: 'Edge',\n      y: 4.67\n    }, {\n      name: 'Safari',\n      y: 4.18\n    }, {\n      name: 'Sogou Explorer',\n      y: 1.64\n    }, {\n      name: 'Opera',\n      y: 1.6\n    }, {\n      name: 'QQ',\n      y: 1.2\n    }, {\n      name: 'Other',\n      y: 2.61\n    }]\n  }]\n};\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.dataParser_bar = () => {\n      dataList.forEach(function (data) {\n        var temp = Object.values(data);\n        let newObject = {};\n        newObject = {\n          name: temp[0],\n          data: temp.slice(1, -1).map(Number)\n        };\n        NewData.push(newObject);\n      });\n    };\n\n    this.setData = (newCategories, NewData, NewData2) => {\n      this.setState({\n        barChart_options: {\n          xAxis: {\n            categories: newCategories\n          },\n          series: NewData\n        },\n        pieChart_options: {\n          series: {\n            data: NewData2\n          }\n        }\n      });\n    };\n\n    this.state = {\n      barChart_options: bar_options,\n      pieChart_options: pie_options\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps !== this.props) {\n      console.log(\"props diff\");\n      console.log(prevProps);\n      console.log(this.props);\n      var newCategories = [];\n      var NewData = [];\n      newCategories = this.props.columns.slice(1);\n      var NewData2 = [];\n      var temp = this.props.data;\n      console.log(this.props.data);\n      newCategories.forEach(function (category) {\n        let newObject = {};\n        var sum = 0;\n        console.log(temp);\n        temp.forEach(function (data) {\n          sum += Number(data[category.toLowerCase()]); //console.log(data[category.toLowerCase()]);\n\n          console.log(\"sum = \" + sum);\n        });\n        newObject = {\n          name: category,\n          y: sum\n        };\n        NewData2.push(newObject);\n      });\n      this.setData(newCategories, NewData, NewData2);\n    }\n\n    if (prevState !== this.state) {\n      console.log(\"State diff\");\n      console.log(prevState);\n      console.log(this.state);\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(HighchartsReact, {\n      highcharts: Highcharts,\n      options: this.state.barChart_options,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }), React.createElement(HighchartsReact, {\n      highcharts: Highcharts,\n      options: this.state.pieChart_options,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Chart;","map":{"version":3,"sources":["/Users/Daeun/Desktop/db-chart-generator/src/main/js/src/components/Chart.js"],"names":["React","Component","Highcharts","HighchartsReact","bar_options","chart","type","title","text","subtitle","xAxis","categories","crosshair","yAxis","min","tooltip","headerFormat","pointFormat","footerFormat","shared","useHTML","plotOptions","column","pointPadding","borderWidth","series","name","data","pie_options","plotBackgroundColor","plotBorderWidth","plotShadow","pie","allowPointSelect","cursor","dataLabels","enabled","format","colorByPoint","y","sliced","selected","Chart","constructor","props","dataParser_bar","dataList","forEach","temp","Object","values","newObject","slice","map","Number","NewData","push","setData","newCategories","NewData2","setState","barChart_options","pieChart_options","state","componentDidUpdate","prevProps","prevState","snapshot","console","log","columns","category","sum","toLowerCase","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Highcharts from 'highcharts'\nimport HighchartsReact from 'highcharts-react-official'\n\n\n\nconst bar_options = {\n  chart: {\n    type: 'column'\n  },\n  title: {\n    text: 'Monthly Average Rainfall'\n  },\n  subtitle: {\n    text: 'Source: WorldClimate.com'\n  },\n  xAxis: {\n    categories: [\n      'Jan',\n      'Feb',\n      'Mar',\n\n    ],\n    crosshair: true\n  },\n  yAxis: {\n    min: 0,\n    title: {\n      text: 'Rainfall (mm)'\n    }\n  },\n  tooltip: {\n    headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n    pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n      '<td style=\"padding:0\"><b>{point.y:.1f} mm</b></td></tr>',\n    footerFormat: '</table>',\n    shared: true,\n    useHTML: true\n  },\n  plotOptions: {\n    column: {\n      pointPadding: 0.2,\n      borderWidth: 0\n    }\n  },\n  series: [{\n    name: 'Tokyo',\n    data: [49.9, 71.5, 106.4]\n\n  }, {\n    name: 'New York',\n    data: [83.6, 78.8, 98.5]\n\n  }, {\n    name: 'London',\n    data: [48.9, 38.8, 39.3]\n\n  }, {\n    name: 'Berlin',\n    data: [42.4, 33.2, 34.5]\n\n  }]\n}\n\nconst pie_options = {\n  chart: {\n    plotBackgroundColor: null,\n    plotBorderWidth: null,\n    plotShadow: false,\n    type: 'pie'\n  },\n  title: {\n    text: 'Browser market shares in January, 2018'\n  },\n  tooltip: {\n    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n  },\n  plotOptions: {\n    pie: {\n      allowPointSelect: true,\n      cursor: 'pointer',\n      dataLabels: {\n        enabled: true,\n        format: '<b>{point.name}</b>: {point.percentage:.1f} %'\n      }\n    }\n  },\n  series: [{\n    name: 'Brands',\n    colorByPoint: true,\n    data: [{\n      name: 'Chrome',\n      y: 65,\n      sliced: true,\n      selected: true\n    }, {\n      name: 'Internet Explorer',\n      y: 11.84\n    }, {\n      name: 'Firefox',\n      y: 10.85\n    }, {\n      name: 'Edge',\n      y: 4.67\n    }, {\n      name: 'Safari',\n      y: 4.18\n    }, {\n      name: 'Sogou Explorer',\n      y: 1.64\n    }, {\n      name: 'Opera',\n      y: 1.6\n    }, {\n      name: 'QQ',\n      y: 1.2\n    }, {\n      name: 'Other',\n      y: 2.61\n    }]\n  }]\n}\n\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      barChart_options: bar_options,\n      pieChart_options: pie_options\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n\n    if (prevProps !== this.props) {\n      console.log(\"props diff\");\n      console.log(prevProps);\n      console.log(this.props);\n\n      var newCategories = [];\n      var NewData = [];\n\n      newCategories = this.props.columns.slice(1);\n\n\n\n\n      var NewData2 = [];\n      var temp = this.props.data;\n      console.log(this.props.data);\n\n      newCategories.forEach(function(category) {\n\n        let newObject = {};\n        var sum = 0;\n        console.log(temp);\n\n        temp.forEach(function(data) {\n          sum += Number(data[category.toLowerCase()]);\n          //console.log(data[category.toLowerCase()]);\n          console.log(\"sum = \" + sum);\n        });\n\n\n        newObject = {\n          name: category,\n          y: sum\n        }\n\n        NewData2.push(newObject);\n\n\n      });\n\n      this.setData(newCategories, NewData, NewData2);\n    }\n\n    if (prevState !== this.state) {\n      console.log(\"State diff\");\n      console.log(prevState);\n      console.log(this.state);\n    }\n\n  }\n\n  dataParser_bar = () => {\n\n    dataList.forEach(function(data) {\n      var temp = Object.values(data);\n      let newObject = {};\n        newObject = {\n          name: temp[0],\n          data: temp.slice(1, -1).map(Number)\n        }\n      NewData.push(newObject);\n    });\n\n\n  }\n\n\n  setData = (newCategories, NewData, NewData2) => {\n\n    this.setState({\n      barChart_options: {\n        xAxis: {\n          categories: newCategories\n        },\n        series: NewData\n      },\n\n      pieChart_options: {\n        series: {\n          data: NewData2\n        }\n      }\n    });\n\n  }\n\n  render(){\n    return(\n      <div>\n      <HighchartsReact\n        highcharts={Highcharts}\n        options = {this.state.barChart_options}\n      />\n      <HighchartsReact\n        highcharts={Highcharts}\n        options = {this.state.pieChart_options}\n      />\n\n      </div>\n\n    );\n\n}\n}\nexport default Chart;\n"]},"metadata":{},"sourceType":"module"}