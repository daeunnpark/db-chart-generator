{"ast":null,"code":"var _jsxFileName = \"/Users/Daeun/Desktop/db-chart-generator/src/main/js/src/components/table/SearchBar.js\";\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport AccountCircle from '@material-ui/icons/Close';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n/*\nRepresent search bar in the database.\n*/\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        value: event.target.value\n      });\n    };\n\n    this.search = event => {\n      fetch(\"/db/search/?keyword=\".concat(this.state.value), {\n        credentials: 'include',\n        method: 'GET'\n      }).then(function (response) {\n        if (!response.ok) {\n          return false;\n        } //console.log(response.json());\n\n\n        return response.json();\n      }).then(data => {\n        console.log(data);\n        this.props.setSearchResult(this.state.value, data);\n        return data;\n      }).catch(function (error) {\n        window.alert('There has been a problem with your fetch operation: ' + error.message);\n      });\n      console.log(\"keyword is\" + this.state.value);\n    };\n\n    this.iconClick = event => {\n      this.setState({\n        value: ''\n      });\n      this.props.resetSearchResult();\n    };\n\n    this.render = () => {\n      return React.createElement(\"div\", {\n        style: {\n          display: 'inline-flex',\n          marginBottom: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"standard-name\",\n        label: \"keyword\",\n        onChange: this.handleChange,\n        value: this.state.value,\n        margin: \"normal\",\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, React.createElement(AccountCircle, {\n            onClick: this.iconClick,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          alignSelf: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outlined\",\n        onClick: this.search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Search\")));\n    };\n\n    this.state = {\n      value: ''\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(\"updated\");\n    console.log(prevProps.keyword);\n    console.log(this.props.keyword);\n\n    if (prevProps !== this.props) {\n      console.log(\"caallleeddd\");\n      console.log(this.props.keyword);\n      this.setState({\n        value: this.props.keyword\n      });\n      console.log(this.state.value);\n    }\n  }\n\n}\n/*\n<TextField\n       className={classes.margin}\n       id=\"input-with-icon-textfield\"\n       label=\"TextField\"\n       InputProps={{\n         startAdornment: (\n           <InputAdornment position=\"start\">\n             <AccountCircle />\n           </InputAdornment>\n         ),\n       }}\n     />\n*/\n\n\nexport default SearchBar;","map":{"version":3,"sources":["/Users/Daeun/Desktop/db-chart-generator/src/main/js/src/components/table/SearchBar.js"],"names":["React","Component","Button","TextField","AccountCircle","InputAdornment","SearchBar","constructor","props","handleChange","event","setState","value","target","search","fetch","state","credentials","method","then","response","ok","json","data","console","log","setSearchResult","catch","error","window","alert","message","iconClick","resetSearchResult","render","display","marginBottom","startAdornment","alignSelf","componentDidUpdate","prevProps","keyword"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AAEA;;;;AAGA,MAAMC,SAAN,SAAwBL,SAAxB,CAAkC;AAChCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAsBnBC,YAtBmB,GAsBHC,KAAD,IAAW;AACxB,WAAKC,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAEF,KAAK,CAACG,MAAN,CAAaD;AADR,OAAd;AAGD,KA1BkB;;AAAA,SA4BnBE,MA5BmB,GA4BTJ,KAAD,IAAW;AAChBK,MAAAA,KAAK,+BAAwB,KAAKC,KAAL,CAAWJ,KAAnC,GAA4C;AAC/CK,QAAAA,WAAW,EAAE,SADkC;AAE/CC,QAAAA,MAAM,EAAE;AAFuC,OAA5C,CAAL,CAICC,IAJD,CAIM,UAASC,QAAT,EAAmB;AACvB,YAAG,CAACA,QAAQ,CAACC,EAAb,EAAgB;AACd,iBAAO,KAAP;AACD,SAHsB,CAIvB;;;AACA,eAAOD,QAAQ,CAACE,IAAT,EAAP;AACD,OAVD,EAWCH,IAXD,CAWOI,IAAD,IAAU;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,aAAKf,KAAL,CAAWkB,eAAX,CAA2B,KAAKV,KAAL,CAAWJ,KAAtC,EAA6CW,IAA7C;AACA,eAAOA,IAAP;AACH,OAfD,EAgBCI,KAhBD,CAgBO,UAASC,KAAT,EAAgB;AACrBC,QAAAA,MAAM,CAACC,KAAP,CAAa,yDAAyDF,KAAK,CAACG,OAA5E;AACD,OAlBD;AAmBFP,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAe,KAAKT,KAAL,CAAWJ,KAAtC;AAED,KAlDkB;;AAAA,SAoDnBoB,SApDmB,GAoDLtB,KAAD,IAAW;AACtB,WAAKC,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAG;AADI,OAAd;AAGA,WAAKJ,KAAL,CAAWyB,iBAAX;AACD,KAzDkB;;AAAA,SA2DnBC,MA3DmB,GA2DV,MAAM;AACX,aACE;AAAK,QAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAE,aAAX;AAA0BC,UAAAA,YAAY,EAAE;AAAxC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,eADL;AAEE,QAAA,KAAK,EAAC,SAFR;AAGE,QAAA,QAAQ,EAAI,KAAK3B,YAHnB;AAIE,QAAA,KAAK,EAAI,KAAKO,KAAL,CAAWJ,KAJtB;AAKE,QAAA,MAAM,EAAC,QALT;AAME,QAAA,UAAU,EAAE;AACVyB,UAAAA,cAAc,EACZ,oBAAC,cAAD;AAAgB,YAAA,QAAQ,EAAC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,aAAD;AAAe,YAAA,OAAO,EAAI,KAAKL,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAFQ,SANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAiBE;AAAK,QAAA,KAAK,EAAE;AAAEM,UAAAA,SAAS,EAAE;AAAb,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,UAAhB;AAA2B,QAAA,OAAO,EAAI,KAAKxB,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAjBF,CADF;AAyBH,KArFkB;;AAEjB,SAAKE,KAAL,GAAa;AACXJ,MAAAA,KAAK,EAAG;AADG,KAAb;AAGD;;AAED2B,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC9BhB,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYe,SAAS,CAACC,OAAtB;AACAjB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWiC,OAAvB;;AAEE,QAAID,SAAS,KAAI,KAAKhC,KAAtB,EAA6B;AAC3BgB,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWiC,OAAvB;AACA,WAAK9B,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWiC;AADN,OAAd;AAGFjB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWJ,KAAvB;AACC;AACF;;AArB+B;AA0FlC;;;;;;;;;;;;;;;;AAeA,eAAeN,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport AccountCircle from '@material-ui/icons/Close';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\n/*\nRepresent search bar in the database.\n*/\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value : ''\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n  console.log(\"updated\");\n  console.log(prevProps.keyword);\n  console.log(this.props.keyword);\n\n    if (prevProps!== this.props) {\n      console.log(\"caallleeddd\");\n      console.log(this.props.keyword);\n      this.setState({\n        value: this.props.keyword\n      })\n    console.log(this.state.value);\n    }\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  search = (event) => {\n      fetch(`/db/search/?keyword=${this.state.value}`, {\n        credentials: 'include',\n        method: 'GET'\n      })\n      .then(function(response) {\n        if(!response.ok){\n          return false;\n        }\n        //console.log(response.json());\n        return response.json();\n      })\n      .then((data) => {\n          console.log(data);\n          this.props.setSearchResult(this.state.value, data);\n          return data;\n      })\n      .catch(function(error) {\n        window.alert('There has been a problem with your fetch operation: ' + error.message);\n      });\n    console.log(\"keyword is\" + this.state.value);\n\n  }\n\n  iconClick  = (event) => {\n    this.setState({\n      value : ''\n    });\n    this.props.resetSearchResult();\n  }\n\n  render = () => {\n      return (\n        <div style={{ display: 'inline-flex', marginBottom: 20}}>\n          <div>\n            <TextField\n              id=\"standard-name\"\n              label=\"keyword\"\n              onChange = {this.handleChange}\n              value = {this.state.value}\n              margin=\"normal\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <AccountCircle onClick = {this.iconClick}/>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </div>\n          <div style={{ alignSelf: 'center' }}>\n            <Button variant=\"outlined\" onClick = {this.search}>\n              Search\n            </Button>\n          </div>\n        </div>\n      );\n  }\n\n}\n\n/*\n<TextField\n       className={classes.margin}\n       id=\"input-with-icon-textfield\"\n       label=\"TextField\"\n       InputProps={{\n         startAdornment: (\n           <InputAdornment position=\"start\">\n             <AccountCircle />\n           </InputAdornment>\n         ),\n       }}\n     />\n*/\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}