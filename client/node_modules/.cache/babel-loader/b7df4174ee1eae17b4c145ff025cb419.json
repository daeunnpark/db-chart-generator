{"ast":null,"code":"var _jsxFileName = \"/Users/Daeun/Desktop/db-chart-generator/src/main/js/src/components/Chart.js\";\nimport React, { Component } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nconst bar_options_test = {\n  title: {\n    text: 'Highcharts Histogram'\n  },\n  xAxis: [{\n    title: {\n      text: 'Data'\n    },\n    alignTicks: false\n  }, {\n    title: {\n      text: 'Histogram'\n    },\n    alignTicks: false,\n    opposite: true\n  }],\n  yAxis: [{\n    title: {\n      text: 'Data'\n    }\n  }, {\n    title: {\n      text: 'Histogram'\n    },\n    opposite: true\n  }],\n  series: [{\n    name: 'Histogram',\n    type: 'histogram',\n    xAxis: 1,\n    yAxis: 1,\n    baseSeries: 's1',\n    zIndex: -1\n  }, {\n    name: 'Data',\n    type: 'scatter',\n    data: [3.5, 3, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.4, 3, 3, 4, 4.4, 3.9, 3.5, 3.8, 3.8, 3.4, 3.7, 3.6, 3.3, 3.4, 3, 3.4, 3.5, 3.4, 3.2, 3.1, 3.4, 4.1, 4.2, 3.1, 3.2, 3.5, 3.6, 3, 3.4, 3.5, 2.3, 3.2, 3.5, 3.8, 3, 3.8, 3.2, 3.7, 3.3, 3.2, 3.2, 3.1, 2.3, 2.8, 2.8, 3.3, 2.4, 2.9, 2.7, 2, 3, 2.2, 2.9, 2.9, 3.1, 3, 2.7, 2.2, 2.5, 3.2, 2.8, 2.5, 2.8, 2.9, 3, 2.8, 3, 2.9, 2.6, 2.4, 2.4, 2.7, 2.7, 3, 3.4, 3.1, 2.3, 3, 2.5, 2.6, 3, 2.6, 2.3, 2.7, 3, 2.9, 2.9, 2.5, 2.8, 3.3, 2.7, 3, 2.9, 3, 3, 2.5, 2.9, 2.5, 3.6, 3.2, 2.7, 3, 2.5, 2.8, 3.2, 3, 3.8, 2.6, 2.2, 3.2, 2.8, 2.8, 2.7, 3.3, 3.2, 2.8, 3, 2.8, 3, 2.8, 3.8, 2.8, 2.8, 2.6, 3, 3.4, 3.1, 3, 3.1, 3.1, 3.1, 2.7, 3.2, 3.3, 3, 2.5, 3, 3.4, 3],\n    id: 's1',\n    marker: {\n      radius: 1.5\n    }\n  }]\n};\nconst bar_options = {\n  chart: {\n    type: 'column'\n  },\n  title: {\n    text: 'Monthly Average Rainfall'\n  },\n  subtitle: {\n    text: 'Source: WorldClimate.com'\n  },\n  xAxis: {\n    categories: ['Jan', 'Feb', 'Mar'],\n    crosshair: true\n  },\n  yAxis: {\n    min: 0,\n    title: {\n      text: 'Rainfall (mm)'\n    }\n  },\n  tooltip: {\n    headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n    pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} mm</b></td></tr>',\n    footerFormat: '</table>',\n    shared: true,\n    useHTML: true\n  },\n  plotOptions: {\n    column: {\n      pointPadding: 0.2,\n      borderWidth: 0\n    }\n  },\n  series: [{\n    name: 'Tokyo',\n    data: [49.9, 71.5, 106.4]\n  }, {\n    name: 'New York',\n    data: [83.6, 78.8, 98.5]\n  }, {\n    name: 'London',\n    data: [48.9, 38.8, 39.3]\n  }, {\n    name: 'Berlin',\n    data: [42.4, 33.2, 34.5]\n  }]\n};\nconst pie_options = {\n  chart: {\n    plotBackgroundColor: null,\n    plotBorderWidth: null,\n    plotShadow: false,\n    type: 'pie'\n  },\n  title: {\n    text: 'Browser market shares in January, 2018'\n  },\n  tooltip: {\n    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n  },\n  plotOptions: {\n    pie: {\n      allowPointSelect: true,\n      cursor: 'pointer',\n      dataLabels: {\n        enabled: true,\n        format: '<b>{point.name}</b>: {point.percentage:.1f} %'\n      }\n    }\n  },\n  series: [{\n    name: 'Brands',\n    colorByPoint: true,\n    data: [{\n      name: 'Chrome',\n      y: 65,\n      sliced: true,\n      selected: true\n    }, {\n      name: 'Internet Explorer',\n      y: 11.84\n    }, {\n      name: 'Firefox',\n      y: 10.85\n    }, {\n      name: 'Edge',\n      y: 4.67\n    }, {\n      name: 'Safari',\n      y: 4.18\n    }, {\n      name: 'Sogou Explorer',\n      y: 1.64\n    }, {\n      name: 'Opera',\n      y: 1.6\n    }, {\n      name: 'QQ',\n      y: 1.2\n    }, {\n      name: 'Other',\n      y: 2.61\n    }]\n  }]\n};\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.chartDataParser_bar = dataList => {\n      var chartData = [];\n      dataList.forEach(function (data) {\n        var temp = Object.values(data);\n        let newObject = {};\n        newObject = {\n          name: temp[0],\n          data: temp.slice(1, -1).map(Number)\n        };\n        chartData.push(newObject);\n      });\n      return chartData;\n    };\n\n    this.chartDataParser_pie = (categories, dataList) => {\n      var chartData = [];\n      categories.forEach(function (category) {\n        let newObject = {};\n        var sum = 0;\n        dataList.forEach(function (data) {\n          sum += Number(data[category.toLowerCase()]);\n        });\n        newObject = {\n          name: category,\n          y: sum\n        };\n        chartData.push(newObject);\n      });\n      return chartData;\n    };\n\n    this.setChartData = (newCategories, newChartData_bar, newChartData_pie) => {\n      this.setState({\n        barChart_options: {\n          xAxis: {\n            categories: newCategories\n          },\n          series: newChartData_bar\n        },\n        pieChart_options: {\n          series: {\n            data: newChartData_pie\n          }\n        }\n      });\n    };\n\n    this.state = {\n      barChart_options: bar_options,\n      pieChart_options: pie_options\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps !== this.props) {\n      /*\n      console.log(\"props diff\");\n      console.log(prevProps);\n      console.log(this.props);\n      */\n      var newCategories = this.props.columns.slice(1);\n      var newChartData_bar = this.chartDataParser_bar(this.props.data);\n      var newChartData_pie = this.chartDataParser_pie(newCategories, this.props.data);\n      this.setChartData(newCategories, newChartData_bar, newChartData_pie);\n    }\n\n    if (prevState !== this.state) {\n      console.log(\"State diff\");\n      console.log(prevState);\n      console.log(this.state);\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Charts\"), React.createElement(HighchartsReact, {\n      highcharts: Highcharts,\n      options: this.state.barChart_options,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }), React.createElement(HighchartsReact, {\n      highcharts: Highcharts,\n      options: this.state.pieChart_options,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Chart;","map":{"version":3,"sources":["/Users/Daeun/Desktop/db-chart-generator/src/main/js/src/components/Chart.js"],"names":["React","Component","Highcharts","HighchartsReact","bar_options_test","title","text","xAxis","alignTicks","opposite","yAxis","series","name","type","baseSeries","zIndex","data","id","marker","radius","bar_options","chart","subtitle","categories","crosshair","min","tooltip","headerFormat","pointFormat","footerFormat","shared","useHTML","plotOptions","column","pointPadding","borderWidth","pie_options","plotBackgroundColor","plotBorderWidth","plotShadow","pie","allowPointSelect","cursor","dataLabels","enabled","format","colorByPoint","y","sliced","selected","Chart","constructor","props","chartDataParser_bar","dataList","chartData","forEach","temp","Object","values","newObject","slice","map","Number","push","chartDataParser_pie","category","sum","toLowerCase","setChartData","newCategories","newChartData_bar","newChartData_pie","setState","barChart_options","pieChart_options","state","componentDidUpdate","prevProps","prevState","snapshot","columns","console","log","render"],"mappings":"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","sourcesContent":["import React, {\n  Component\n} from 'react';\nimport Highcharts from 'highcharts'\nimport HighchartsReact from 'highcharts-react-official'\n\n\n\n\n\nconst bar_options_test = {\n    title: {\n        text: 'Highcharts Histogram'\n    },\n    xAxis: [{\n        title: { text: 'Data' },\n        alignTicks: false\n    }, {\n        title: { text: 'Histogram' },\n        alignTicks: false,\n        opposite: true\n    }],\n\n    yAxis: [{\n        title: { text: 'Data' }\n    }, {\n        title: { text: 'Histogram' },\n        opposite: true\n    }],\n\n    series: [{\n        name: 'Histogram',\n        type: 'histogram',\n        xAxis: 1,\n        yAxis: 1,\n        baseSeries: 's1',\n        zIndex: -1\n    }, {\n        name: 'Data',\n        type: 'scatter',\n        data: [3.5, 3, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.4, 3, 3, 4, 4.4, 3.9, 3.5, 3.8, 3.8, 3.4, 3.7, 3.6, 3.3, 3.4, 3, 3.4, 3.5, 3.4, 3.2, 3.1, 3.4, 4.1, 4.2, 3.1, 3.2, 3.5, 3.6, 3, 3.4, 3.5, 2.3, 3.2, 3.5, 3.8, 3, 3.8, 3.2, 3.7, 3.3, 3.2, 3.2, 3.1, 2.3, 2.8, 2.8, 3.3, 2.4, 2.9, 2.7, 2, 3, 2.2, 2.9, 2.9, 3.1, 3, 2.7, 2.2, 2.5, 3.2, 2.8, 2.5, 2.8, 2.9, 3, 2.8, 3, 2.9, 2.6, 2.4, 2.4, 2.7, 2.7, 3, 3.4, 3.1, 2.3, 3, 2.5, 2.6, 3, 2.6, 2.3, 2.7, 3, 2.9, 2.9, 2.5, 2.8, 3.3, 2.7, 3, 2.9, 3, 3, 2.5, 2.9, 2.5, 3.6, 3.2, 2.7, 3, 2.5, 2.8, 3.2, 3, 3.8, 2.6, 2.2, 3.2, 2.8, 2.8, 2.7, 3.3, 3.2, 2.8, 3, 2.8, 3, 2.8, 3.8, 2.8, 2.8, 2.6, 3, 3.4, 3.1, 3, 3.1, 3.1, 3.1, 2.7, 3.2, 3.3, 3, 2.5, 3, 3.4, 3],\n        id: 's1',\n        marker: {\n            radius: 1.5\n        }\n    }]\n}\n\n\nconst bar_options = {\n  chart: {\n    type: 'column'\n  },\n  title: {\n    text: 'Monthly Average Rainfall'\n  },\n  subtitle: {\n    text: 'Source: WorldClimate.com'\n  },\n  xAxis: {\n    categories: [\n      'Jan',\n      'Feb',\n      'Mar',\n\n    ],\n    crosshair: true\n  },\n  yAxis: {\n    min: 0,\n    title: {\n      text: 'Rainfall (mm)'\n    }\n  },\n  tooltip: {\n    headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n    pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n      '<td style=\"padding:0\"><b>{point.y:.1f} mm</b></td></tr>',\n    footerFormat: '</table>',\n    shared: true,\n    useHTML: true\n  },\n  plotOptions: {\n    column: {\n      pointPadding: 0.2,\n      borderWidth: 0\n    }\n  },\n  series: [{\n    name: 'Tokyo',\n    data: [49.9, 71.5, 106.4]\n\n  }, {\n    name: 'New York',\n    data: [83.6, 78.8, 98.5]\n\n  }, {\n    name: 'London',\n    data: [48.9, 38.8, 39.3]\n\n  }, {\n    name: 'Berlin',\n    data: [42.4, 33.2, 34.5]\n\n  }]\n}\n\nconst pie_options = {\n  chart: {\n    plotBackgroundColor: null,\n    plotBorderWidth: null,\n    plotShadow: false,\n    type: 'pie'\n  },\n  title: {\n    text: 'Browser market shares in January, 2018'\n  },\n  tooltip: {\n    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n  },\n  plotOptions: {\n    pie: {\n      allowPointSelect: true,\n      cursor: 'pointer',\n      dataLabels: {\n        enabled: true,\n        format: '<b>{point.name}</b>: {point.percentage:.1f} %'\n      }\n    }\n  },\n  series: [{\n    name: 'Brands',\n    colorByPoint: true,\n    data: [{\n      name: 'Chrome',\n      y: 65,\n      sliced: true,\n      selected: true\n    }, {\n      name: 'Internet Explorer',\n      y: 11.84\n    }, {\n      name: 'Firefox',\n      y: 10.85\n    }, {\n      name: 'Edge',\n      y: 4.67\n    }, {\n      name: 'Safari',\n      y: 4.18\n    }, {\n      name: 'Sogou Explorer',\n      y: 1.64\n    }, {\n      name: 'Opera',\n      y: 1.6\n    }, {\n      name: 'QQ',\n      y: 1.2\n    }, {\n      name: 'Other',\n      y: 2.61\n    }]\n  }]\n}\n\n\n\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      barChart_options: bar_options,\n      pieChart_options: pie_options\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n\n    if (prevProps !== this.props) {\n      /*\n      console.log(\"props diff\");\n      console.log(prevProps);\n      console.log(this.props);\n      */\n\n      var newCategories = this.props.columns.slice(1);\n\n      var newChartData_bar = this.chartDataParser_bar(this.props.data);\n      var newChartData_pie = this.chartDataParser_pie(newCategories, this.props.data);\n\n      this.setChartData(newCategories, newChartData_bar, newChartData_pie);\n    }\n\n    if (prevState !== this.state) {\n      console.log(\"State diff\");\n      console.log(prevState);\n      console.log(this.state);\n    }\n\n  }\n\n\n\n  chartDataParser_bar = (dataList) => {\n\n    var chartData = [];\n\n    dataList.forEach(function(data) {\n      var temp = Object.values(data);\n      let newObject = {};\n      newObject = {\n        name: temp[0],\n        data: temp.slice(1, -1).map(Number)\n      }\n      chartData.push(newObject);\n    });\n\n    return chartData;\n\n  }\n\n\n  chartDataParser_pie = (categories, dataList) => {\n\n    var chartData = [];\n\n    categories.forEach(function(category) {\n      let newObject = {};\n      var sum = 0;\n\n      dataList.forEach(function(data) {\n        sum += Number(data[category.toLowerCase()]);\n      });\n\n      newObject = {\n        name: category,\n        y: sum\n      }\n      chartData.push(newObject);\n    });\n\n    return chartData;\n\n  }\n\n\n  setChartData = (newCategories, newChartData_bar, newChartData_pie) => {\n\n    this.setState({\n      barChart_options: {\n        xAxis: {\n          categories: newCategories\n        },\n        series: newChartData_bar\n      },\n\n      pieChart_options: {\n        series: {\n          data: newChartData_pie\n        }\n      }\n    });\n\n  }\n\n  render(){\n    return(\n      <div>\n      <h3>Charts</h3>\n\n\n      <HighchartsReact\n        highcharts={Highcharts}\n        options = {this.state.barChart_options}\n      />\n      <HighchartsReact\n        highcharts={Highcharts}\n        options = {this.state.pieChart_options}\n      />\n\n      </div>\n\n    );\n\n}\n}\nexport default Chart;\n"]},"metadata":{},"sourceType":"module"}