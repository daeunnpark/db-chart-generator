(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){},223:function(e,t,a){e.exports=a(306)},228:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(13),i=a.n(r),s=(a(228),a(57)),c=a(60),l=a(58),d=a(61),u=(a(229),a(175),a(66)),p=a(62),m=(n.Component,a(110)),h=a.n(m),f=a(170),b=a.n(f),g={chart:{type:"column"},title:{text:"Monthly Average Rainfall"},subtitle:{text:"Source: WorldClimate.com"},xAxis:{categories:["Jan","Feb","Mar"],crosshair:!0},yAxis:{min:0,title:{text:"Rainfall (mm)"}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{name:"Tokyo",data:[49.9,71.5,106.4]},{name:"New York",data:[83.6,78.8,98.5]},{name:"London",data:[48.9,38.8,39.3]},{name:"Berlin",data:[42.4,33.2,34.5]}]},y={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Browser market shares in January, 2018"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{name:"Brands",colorByPoint:!0,data:[{name:"Chrome",y:65,sliced:!0,selected:!0},{name:"Internet Explorer",y:11.84},{name:"Firefox",y:10.85},{name:"Edge",y:4.67},{name:"Safari",y:4.18},{name:"Sogou Explorer",y:1.64},{name:"Opera",y:1.6},{name:"QQ",y:1.2},{name:"Other",y:2.61}]}]},v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).chartDataParser_bar=function(e){var t=[];return e.forEach(function(e){var a,n=Object.values(e);a={name:n[0],data:n.slice(1,-1).map(Number)},t.push(a)}),t},a.chartDataParser_pie=function(e,t){var a=[];return e.forEach(function(e){var n,o=0;t.forEach(function(t){o+=Number(t[e.toLowerCase()])}),n={name:e,y:o},a.push(n)}),a},a.setChartData=function(e,t,n){a.setState({barChart_options:{xAxis:{categories:e},series:t},pieChart_options:{series:{data:n}}})},a.state={barChart_options:g,pieChart_options:y},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){if(e!==this.props){var n=this.props.columns.slice(1),o=this.chartDataParser_bar(this.props.data),r=this.chartDataParser_pie(n,this.props.data);this.setChartData(n,o,r)}t!==this.state&&(console.log("State diff"),console.log(t),console.log(this.state))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",null,"Charts"),o.a.createElement(b.a,{highcharts:h.a,options:this.state.barChart_options}),o.a.createElement(b.a,{highcharts:h.a,options:this.state.pieChart_options}))}}]),t}(n.Component),w=a(210),O=a.n(w),C=a(120),D=a(219),E=a.n(D),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).saveToDb=function(){a.setState({isLoading:!0}),console.log(a.state.isLoading),fetch(new Request("/demo/addAllData",{method:"POST",redirect:"follow",headers:new Headers({"Content-Type":"application/json"})}),{credentials:"include",body:JSON.stringify(a.state.data)}).then(function(e){return console.log}).catch(function(e){return console.error}),console.log(a.state.isLoading)},a.addToDb=function(e){fetch(new Request("/demo/addOrUpdateData",{method:"POST",redirect:"follow",headers:new Headers({"Content-Type":"application/json"})}),{credentials:"include",body:JSON.stringify(e)}).then(function(e){return console.log}).catch(function(e){return console.error})},a.deleteFromDb=function(e){console.log("called"),fetch(new Request("/demo/deleteData",{method:"POST",redirect:"follow",headers:new Headers({"Content-Type":"application/json"})}),{credentials:"include",body:JSON.stringify(e)}).then(function(e){return console.log}).catch(function(e){return console.error})},a.setData=function(){console.log("SETDATA From TABLE");var e,t=[];a.state.columns.forEach(function(e){t.push(e.title)}),e=a.state.data,a.props.setData({columns:t,data:e})},a.uploadCsvFile=function(e){e.preventDefault(),E.a.parse(e.target.files[0],{header:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:a.updateTable})},a.updateTable=function(e){var t=[],n=[];e.meta.fields.forEach(function(e){t.push({title:e.toUpperCase(),field:e.toLowerCase()})}),e.data.forEach(function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a.toLowerCase()]=e[a]);n.push(t)}),a.setState({columns:t,data:n}),a.saveToDb()},a.render=function(){var e;return o.a.createElement("div",null,o.a.createElement("h2",null,"Ezops - DB chart generator"),o.a.createElement("div",null,o.a.createElement(C.a,(e={id:"raised-button-file"},Object(u.a)(e,"id","FileUploadBtn"),Object(u.a)(e,"type","file"),Object(u.a)(e,"accept",".csv"),Object(u.a)(e,"onChange",a.uploadCsvFile),e))),o.a.createElement("h3",null,"Database Table"),o.a.createElement(O.a,{options:{showTitle:!1,toolbarButtonAlignment:"left"},isLoading:a.state.isLoading,columns:a.state.columns,data:a.state.data,editable:{onRowAdd:function(e){return new Promise(function(t,n){setTimeout(function(){var n=a.state.data;n.push(e),console.log(e),a.addToDb(e),a.setState({data:n},function(){return t()}),t()},1e3)})},onRowUpdate:function(e,t){return new Promise(function(n,o){setTimeout(function(){var o=a.state.data,r=o.indexOf(t);o[r]=e,a.addToDb(e),a.setState({data:o},function(){return n()}),n()},1e3)})},onRowDelete:function(e){return new Promise(function(t,n){setTimeout(function(){var n=a.state.data,o=n.indexOf(e);n.splice(o,1),a.deleteFromDb(e),a.setState({data:n},function(){return t()}),t()},1e3)})}}}),o.a.createElement("button",{onClick:a.setData},"UpdateChart"))},a.state={columns:[{title:"ID",field:"id"},{title:"COL2",field:"col2",type:"numeric"},{title:"COL3",field:"col3",type:"numeric"},{title:"COL4",field:"col4",type:"numeric"}],data:[{id:"A",col2:80,col3:30,col4:40},{id:"B",col2:30,col3:20,col4:10}],isLoading:!1},a}return Object(d.a)(t,e),t}(n.Component),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).setData=function(e){console.log("SETDATA APP"),a.setState(e)},a.handleChange=function(e){a.setState({request:e.target.value})},a.handleSubmit=function(e){e.preventDefault()},a.render=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(T,{setData:a.setData}),o.a.createElement(v,{columns:a.state.columns,data:a.state.data}))},a.state={columns:[],data:[]},a}return Object(d.a)(t,e),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[223,1,2]]]);
//# sourceMappingURL=main.7daddacb.chunk.js.map