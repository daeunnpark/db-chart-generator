{"version":3,"sources":["components/chart/Chart.js","constants/chartOptions.js","components/table/SearchBar.js","components/feedback/Modal.js","constants/styles.js","components/feedback/Alert.js","constants/messages.js","components/table/Table.js","App.js","serviceWorker.js","index.js"],"names":["require","Highcharts","source","defaultOptions_bar","chart","type","title","text","subtitle","xAxis","visible","categories","yAxis","min","tickInterval","tooltip","headerFormat","pointFormat","footerFormat","shared","useHTML","plotOptions","column","pointPadding","borderWidth","groupPadding","shadow","series","showInLegend","colorByPoint","data","lang","noData","style","fontWeight","fontSize","color","defaultOptions_pie","plotBackgroundColor","plotBorderWidth","plotShadow","pie","allowPointSelect","cursor","dataLabels","enabled","format","Chart","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","parseData","counts","countFrequency","newColumn","newCategories","keys","newBarChartData","values","newPieChartData","parseData_helper","arr","forEach","key","dataObject","name","y","push","i","length","setChartData","setState","barChart","pieChart","state","prevProps","console","log","_this$parseData","react_default","a","createElement","className","highcharts_react_min_default","highcharts","options","Component","SearchBar","handleChange","event","value","target","search","fetch","concat","credentials","method","then","response","ok","json","setSearchResult","catch","error","window","alert","message","iconClick","resetSearchResult","render","display","margin","marginRight","marginBottom","TextField","id","label","onChange","InputProps","endAdornment","InputAdornment","position","Close_default","onClick","alignSelf","Button","variant","disabled","keyword","Modal","handleOpen","open","handleOk","setSelectedCategoryData","handleClose","Dialog","disableBackdropClick","disableEscapeKeyDown","onClose","DialogTitle","DialogContent","FormControl","component","FormLabel","RadioGroup","aria-label","columns","map","FormControlLabel","field","control","Radio","DialogActions","ICONS","CheckCircleIcon","ErrorIcon","icons","styles","icon_styles","snackBarContent_styles","backgroundColor","alignItems","snackBarContent_styles_span","Alert","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","messageWrapper","success","flag","prevState","newMessage","newFlag","Icon","snackbarContentStyle","SnackbarContent","action","IconButton","Table","parseCsv","Papa","parse","files","header","skipEmptyLines","dynamicTyping","complete","updateTable","parseData_table","result","parsedColumns","parsedData","meta","fields","toUpperCase","toLowerCase","cellStyle","newData","hasOwnProperty","newColumns","_this$parseData_table","isLoading","addAllDataToDb","dataCopy","toConsumableArray","setAlert","isLoaded","Request","redirect","headers","Headers","Content-Type","body","JSON","stringify","addDataToDb","updateDataInDb","deleteDataFromDb","category","sort","compare","bool","newKeyword","page","accept","htmlFor","dist_default","showTitle","toolbarButtonAlignment","headerStyle","addRowPosition","emptyRowsWhenPaging","editable","onRowAdd","Promise","resolve","reject","setTimeout","ndata","ndataCopy","onRowUpdate","oldData","index","indexOf","index_copy","findIndex","passengerid","onRowDelete","splice","localization","actions","emptyDataSourceMessage","components","Toolbar","padding","dist","assign","classes","root","borderRadius","table_SearchBar","bind","assertThisInitialized","feedback_Modal","feedback_Alert","b","App","newState","Fragment","table_Table","chart_Chart","Boolean","location","hostname","match","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6586641b.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Highcharts from 'highcharts'\nimport HighchartsReact from 'highcharts-react-official'\nimport * as defaultOptions from '../../constants/chartOptions';\nrequire('highcharts/modules/histogram-bellcurve')(Highcharts);\nrequire('highcharts/modules/no-data-to-display.js')(Highcharts);\n\n\nconst source = defaultOptions.SOURCE;\nconst defaultOptions_bar = defaultOptions.BAR;\nconst defaultOptions_pie = defaultOptions.PIE;\n\n/*\nRepresents chart section containig a bar chart and a pie chart.\n*/\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      barChart: defaultOptions_bar,\n      pieChart: defaultOptions_pie\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(\"ttttt\");\n    if (prevProps !== this.props) {\n      console.log(\"rrrrr\");\n      const {\n        newColumn,\n        newCategories,\n        newBarChartData,\n        newPieChartData\n      } = this.parseData(this.props);\n      this.setChartData(newColumn, newCategories, newBarChartData, newPieChartData);\n    }\n  }\n\n  parseData = (props) => {\n    var counts = this.countFrequency(props.data);\n    return {\n      newColumn: props.column,\n      newCategories: Object.keys(counts),\n      newBarChartData: Object.values(counts),\n      newPieChartData: this.parseData_helper(counts)\n    };\n  }\n\n  parseData_helper = (counts) => {\n    var arr = [];\n    Object.keys(counts).forEach(function(key) {\n      let dataObject = {};\n      dataObject = {\n        name: key,\n        y: counts[key]\n      }\n      arr.push(dataObject);\n    });\n    return arr;\n  }\n\n  countFrequency = (arr) => {\n    var counts = {};\n    for (var i = 0; i < arr.length; i++) {\n      var data = arr[i];\n      counts[data] = counts[data] ? counts[data] + 1 : 1;\n    }\n    return counts;\n  }\n\n  setChartData = (newColumn, newCategories, newBarChartData, newPieChartData) => {\n    this.setState({\n      barChart: {\n        title: {\n          text: newColumn\n        },\n        subtitle: {\n          text: source\n        },\n        xAxis: {\n          visible:true,\n          categories: newCategories\n        },\n        yAxis: {\n          visible:true,\n        },\n        series: [{\n          name : newColumn,\n          data: newBarChartData\n        }]\n      },\n      pieChart: {\n        title: {\n          text: newColumn\n        },\n        subtitle: {\n          text: source\n        },\n        series: [{\n          name: newColumn,\n          data: newPieChartData\n        }]\n      }\n    });\n  }\n\n  render(){\n    return(\n      <div className= 'Section'>\n        <h2>Charts</h2>\n          <div className = 'chartContainer'>\n            <HighchartsReact\n              highcharts={Highcharts}\n              options = {this.state.barChart}/>\n            </div>\n          <div className = 'chartContainer'>\n            <HighchartsReact\n              highcharts={Highcharts}\n              options = {this.state.pieChart}/>\n            </div>\n      </div>\n    );\n  }\n\n}\n\n\nexport default Chart;\n","// Constant variables for default chart options - Chart.js\n\nexport const SOURCE= 'Source: kaggle';\n\nexport const BAR = {\n  chart: {\n    type: 'column'\n  },\n  title: {\n    text: 'Bar Chart'\n  },\n  subtitle: {\n    text: ''\n  },\n  xAxis: {\n    visible:false,\n    categories: []\n  },\n  yAxis: {\n    visible:false,\n    min: 0,\n    tickInterval: 1,\n    title: {\n      text: 'count(person)'\n    }\n  },\n  tooltip: {\n    headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n    pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n      '<td style=\"padding:0\"><b>{point.y}</b></td></tr>',\n    footerFormat: '</table>',\n    shared: true,\n    useHTML: true\n  },\n  plotOptions: {\n    column: {\n      pointPadding: 0,\n      borderWidth: 1,\n      groupPadding: 0.2,\n      shadow: false\n    }\n  },\n  series: [{\n    showInLegend: false,\n    colorByPoint: true,\n    data: []\n  }],\n  lang: {\n        noData: \"No Data to Display\"\n    },\n  noData: {\n      style: {\n          fontWeight: 'bold',\n          fontSize: '15px',\n          color: '#303030'\n      }\n  }\n};\n\n\nexport const PIE = {\n  chart: {\n    plotBackgroundColor: null,\n    plotBorderWidth: null,\n    plotShadow: false,\n    type: 'pie'\n  },\n  title: {\n    text: 'Pie Chart'\n  },\n  subtitle: {\n    text: ''\n  },\n  tooltip: {\n    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n  },\n  plotOptions: {\n    pie: {\n      allowPointSelect: true,\n      cursor: 'pointer',\n      dataLabels: {\n        enabled: true,\n        format: '<b>{point.name}</b>: {point.percentage:.1f} %'\n      }\n    }\n  },\n  series: [{\n    colorByPoint: true,\n    data: []\n  }],\n  lang: {\n        noData: \"No Data to Display\"\n    },\n  noData: {\n      style: {\n          fontWeight: 'bold',\n          fontSize: '15px',\n          color: '#303030'\n      }\n  }\n};\n\n/*\nexport const HISTO require('highcharts/modules/histogram-bellcurve');\nexport const NODATA require('highcharts/modules/no-data-to-display.js');\n*/\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Reset from '@material-ui/icons/Close';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\n/*\nRepresent search bar in the database.\n*/\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value : '',\n      disabled: false\n    };\n  }\n\n  componentDidMount() {\n\n      this.setState({\n        value: this.props.keyword\n      });\n\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  search = (event) => {\n      console.log(this.state.value);\n      fetch(`/db/search/?keyword=${this.state.value}`, {\n        credentials: 'include',\n        method: 'GET'\n      })\n      .then(function(response) {\n        if(!response.ok){\n          return false;\n        }\n        //console.log(response.json());\n        return response.json();\n      })\n      .then((data) => {\n          console.log(data);\n          this.props.setSearchResult(this.state.value, data);\n          return data;\n      })\n      .catch(function(error) {\n        window.alert('There has been a problem with your fetch operation: ' + error.message);\n      });\n\n  }\n\n  iconClick  = (event) => {\n    this.setState({\n      value : ''\n    });\n    this.props.resetSearchResult();\n  }\n\n  render = () => {\n      return (\n        <div style={{  display: 'inline-flex', margin:15}}>\n          <div style={{marginRight:20, marginBottom:10}}>\n            <TextField\n              id=\"standard-name\"\n              label=\"keyword\"\n              onChange = {this.handleChange}\n              value = {this.state.value}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Reset onClick = {this.iconClick}/>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </div>\n          <div style={{ alignSelf: 'center'}}>\n            <Button variant=\"outlined\" color=\"inherit\" onClick = {this.search} disabled = {this.props.disabled}>\n              Search\n            </Button>\n          </div>\n        </div>\n      );\n  }\n\n}\n\nexport default SearchBar;\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport \"../../App.css\"\n\n/*\nRepresents the dialog asking to select a category (Update Charts button).\n*/\nclass Modal extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      value: \"\"\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      this.setState({\n        columns: this.props.columns\n      })\n    }\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleOpen = () => {\n    this.setState({\n      open: true\n    });\n  }\n\n  handleOk = () => {\n    this.setState({\n      open: false\n    });\n    this.props.setSelectedCategoryData(this.state.value);\n  }\n\n  handleClose = () => {\n    this.setState({\n      open: false\n    });\n  }\n\n  render = () => {\n      return (\n          <div>\n            <Button id ='updateChartsBtn' variant=\"contained\" color=\"secondary\" onClick={this.handleOpen} className = 'Btn' disabled = {this.props.disabled}>Update Charts</Button>\n            <Dialog disableBackdropClick disableEscapeKeyDown open={this.state.open} onClose={this.handleClose}>\n              <DialogTitle>Choose a category to generate charts.</DialogTitle>\n              <DialogContent>\n                <form>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\">Category</FormLabel>\n                  <RadioGroup\n                    aria-label=\"Category\"\n                    name=\"category\"\n                    value={this.state.value}\n                    onChange={this.handleChange}>\n                    { this.props.columns.map((column) =>(\n                        <FormControlLabel key = {column.field} value={column.field} control={<Radio />} label={column.title} /> ))\n                    }\n                  </RadioGroup>\n                </FormControl>\n                </form>\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={this.handleClose} color=\"primary\">\n                  Cancel\n                </Button>\n                <Button onClick={this.handleOk} color=\"primary\">\n                  Ok\n                </Button>\n              </DialogActions>\n            </Dialog>\n          </div>\n        );\n      }\n\n}\n\n\nexport default Modal;\n","// Constant variables for alert styling - Alert.js\n\nimport ErrorIcon from '@material-ui/icons/Error';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nexport const ICONS = [\n  CheckCircleIcon, ErrorIcon\n];\n\nexport const ICON_STYLES = {\n  marginRight: 10\n};\n\nexport const SNACKBARCONTENT_STYlES = [\n  {backgroundColor: 'blue', display: 'flex', alignItems: 'center'}, {backgroundColor: 'red' , display: 'flex', alignItems: 'center'}\n];\n\nexport const SNACKBARCONTENT_STYlES_SPAN = {\n  display: 'flex',\n  alignItems: 'center'\n};\n","import React, { Component } from 'react';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport * as messages from '../../constants/messages';\nimport * as styles from '../../constants/styles';\n\n/*\nimport ErrorIcon from '@material-ui/icons/Error';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n*/\n\nconst message_SUCCESS = messages.SUCCESS;\nconst message_ERROR = messages.ERROR;\n\nconst icons = styles.ICONS;\nconst icon_styles = styles.ICON_STYLES;\nconst snackBarContent_styles = styles.SNACKBARCONTENT_STYlES;\nconst snackBarContent_styles_span = styles.SNACKBARCONTENT_STYlES_SPAN;\n\n/*\nRepresents database update alert.\n*/\nclass Alert extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      vertical: 'top',\n      horizontal: 'center',\n      message: '',\n      success: null,\n      flag: 0\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (null !== this.props.success && prevProps !== this.props) {\n      const newMessage = this.props.success ? message_SUCCESS : message_ERROR;\n      const newFlag = this.props.success ? 0 : 1;\n      this.setState({\n        message: newMessage,\n        open: true,\n        flag: newFlag\n      });\n    }\n  }\n\n  messageWrapper(){\n      const Icon = icons[this.state.flag];\n      const snackbarContentStyle = snackBarContent_styles[this.state.flag];\n      return(\n          <SnackbarContent\n            style = {snackbarContentStyle}\n            message={\n              <span id=\"client-snackbar\" style = {snackBarContent_styles_span}>\n                <Icon style = {icon_styles}/>\n                {this.state.message}\n              </span>\n            }\n            action={[\n              <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={this.handleClose}>\n              <CloseIcon/>\n              </IconButton>\n            ]}\n          />\n      );\n  }\n\n  handleClose = () => {\n    this.setState({\n      open: false\n    });\n  }\n\n  render = () => {\n      return (\n        <div>\n          <Snackbar\n            anchorOrigin={{vertical: this.state.vertical, horizontal: this.state.horizontal }}\n            open={this.state.open}\n            autoHideDuration={3000}\n            onClose={this.handleClose}\n          >\n           {this.messageWrapper()}\n          </Snackbar>\n        </div>\n      );\n  }\n\n}\n\n\nexport default Alert;\n","// Constant variables for alert messages - Alert.js\n\nexport const SUCCESS = 'Database has been successfully updated.';\nexport const ERROR = 'Error in the database. Please try again.';\n\n/*\nexport const SUCCESS_DB_ADD = 'Data is successfully added to the database.'\nexport const SUCCESS_DB_UPDATE = 'Data is successfully updated in the database.'\nexport const SUCCESS_DB_DELETE = 'Data is successfully deleted from the database.'\n\nexport const ERROR_DB_ADD = 'Error in the database - ID should be unique.'\nexport const ERROR_DB_UPDATE_DELETE = 'Error in the database. Please try again.'\n*/\n","import React, { Component } from 'react';\nimport MaterialTable, { MTableToolbar } from 'material-table';\nimport Button from '@material-ui/core/Button';\nimport SearchBar from './SearchBar';\nimport Papa from 'papaparse';\nimport { default as Modal } from '../feedback/Modal';\nimport { default as Alert } from '../feedback/Alert';\nimport \"../../App.css\"\n\n/*\nRepresents visual representation of actual database.\n*/\nclass Table extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      columns: [],\n      data: [],\n      isLoading: false,\n      isLoaded: false,\n      success:null,\n      dataCopy:[],\n      keyword:'',\n    };\n  }\n\n  parseCsv = (event) => {\n\n    Papa.parse(event.target.files[0], {\n      header: true,\n      skipEmptyLines: true,\n      dynamicTyping: true,\n      complete: this.updateTable\n    });\n  }\n\n  parseData_table = (result) => {\n\n    var parsedColumns = [];\n    var parsedData = [];\n\n    console.log(result.meta.fields);\n    console.log(result.data);\n    result.meta.fields.forEach(function(field) {\n      parsedColumns.push({\n        title: field.toUpperCase(),\n        field: field.toLowerCase(),\n        cellStyle: style,\n      });\n    });\n    (parsedColumns[0])['editable']='onAdd'; //readonly\n\n    result.data.forEach(function(data) {\n      let newData = {};\n      for (var key in data) {\n        if (data.hasOwnProperty(key)) {\n          newData[key.toLowerCase()] = data[key];\n        }\n      }\n      parsedData.push(newData);\n    });\n    console.log(parsedColumns);\n    console.log(parsedData);\n    return {\n        newColumns : parsedColumns,\n        newData: parsedData\n    };\n  }\n\n  updateTable = (result) => {\n\n    const{ newColumns, newData } = this.parseData_table(result);\n\n    this.setState({\n      isLoading: true\n    });\n\n    this.addAllDataToDb(newData).then(success => {\n      if(success){\n        this.setState({\n          columns: newColumns,\n          data: newData,\n          dataCopy: [...newData]\n        });\n        console.log(newData)\n        console.log(this.state.data);\n        console.log(\"copy is\");\n        console.log(this.state.dataCopy);\n        this.setAlert(true);\n        this.setState({\n          //isLoading: false,\n          isLoaded: true\n        });\n       } else{\n         this.setAlert(false);\n       }\n       this.setState({\n        isLoading: false,\n       });\n\n    });//.catch(failureCallback);\n}\n\n  addAllDataToDb = (data) => {\n    return fetch(new Request('/db/addAll', {\n        method: 'POST',\n        redirect: 'follow',\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        })\n      }), {\n        credentials: 'include',\n        body: JSON.stringify(data)\n      })\n      .then(function(response) {\n        if(!response.ok){\n          return false;\n        }\n          return true;\n      })\n      .catch(function(error) {\n        window.alert('There has been a problem with your fetch operation: ' + error.message);\n      });\n  }\n\n  addDataToDb = (data) => {\n    return fetch(new Request('/db/add', {\n        method: 'POST',\n        redirect: 'follow',\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        })\n      }), {\n        credentials: 'include',\n        body: JSON.stringify(data)\n      })\n      .then(function(response) {\n        if(!response.ok){\n          return false;\n        }\n          return true;\n      })\n      .catch(function(error) {\n        window.alert('There has been a problem with your fetch operation: ' + error.message);\n      });\n  }\n\n  updateDataInDb = (data) => {\n    return fetch(new Request('/db/update', {\n        method: 'PUT',\n        redirect: 'follow',\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        })\n      }), {\n        credentials: 'include',\n        body: JSON.stringify(data)\n      })\n      .then(function(response) {\n        if(!response.ok){\n          return false;\n        }\n          return true;\n      })\n      .catch(function(error) {\n        window.alert('There has been a problem with your fetch operation: ' + error.message);\n      });\n  }\n\n  deleteDataFromDb = (data) => {\n    return fetch(new Request('/db/delete', {\n        method: 'DELETE',\n        redirect: 'follow',\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        })\n      }), {\n        credentials: 'include',\n        body: JSON.stringify(data)\n      })\n      .then(function(response) {\n        if(!response.ok){\n          return false;\n        }\n          return true;\n      })\n      .catch(function(error) {\n        window.alert('There has been a problem with your fetch operation: ' + error.message);\n      });\n  }\n\n  setSelectedCategoryData = (category) => {\n    var newData = [];\n    this.state.data.forEach(function(data) {\n      newData.push(\n        data[category]\n      );\n    });\n    newData.sort(this.compare);\n    this.props.setChartData({\n      column: category.toUpperCase(),\n      data: newData\n    });\n  }\n\n  compare(a, b) {\n    if (typeof(a) == \"number\") {\n      return a - b;\n    } else {\n      if (a > b) {\n        return 1;\n      }\n      if (b > a) {\n        return -1;\n      }\n      return 0;\n    }\n  }\n\n  setAlert = (bool) => {\n    this.setState({\n      success: bool\n    });\n    this.setState({\n      success: null\n    });\n  }\n\n  setSearchResult = (newKeyword, newData) => {\n\n    this.setState({\n      keyword: newKeyword,\n      data: newData,\n    });\n\n\n    console.log(this.state.page);\n\n/*\nconsole.log(\"called\");\nconsole.log();\nconsole.log(newData);\nthis.setState(\n{data: newData,\nkeyword: newKeyword\n},\n  () => {\n       console.log(\"SERACH RESULTS\");\n        console.log(this.state.data);\n      })\n*/\n}\n\n  resetSearchResult  = () => {\n    this.setState({\n      data : [...this.state.dataCopy],\n      keyword : ''\n    });\n  }\n\n  render = () => {\n      return (\n        <div>\n          <h1>DB chart generator</h1>\n          <div className = 'Section'>\n            <input\n              id=\"contained-button-file\"\n              type=\"file\"\n              accept=\".csv\"\n              onChange = {this.parseCsv}\n            />\n            <label htmlFor=\"contained-button-file\">\n              <Button id = 'uploadBtn' variant=\"contained\" color=\"primary\" component=\"span\">\n                Upload CSV File\n              </Button>\n            </label>\n\n            <h2>Database Table</h2>\n            <MaterialTable\n              options = {{\n                  showTitle: false,\n                  search : false,\n                  toolbarButtonAlignment: 'left',\n                  headerStyle: style,\n                  addRowPosition:'first',\n                  emptyRowsWhenPaging: false\n              }}\n              isLoading = {this.state.isLoading}\n              columns = {this.state.columns}\n              data= {this.state.data}\n              editable = {{\n                onRowAdd: newData =>\n                 new Promise((resolve, reject) => {\n                     setTimeout(() => {\n                            this.addDataToDb(newData).then(success => {\n                               if(success){\n                                  const ndata = this.state.data;\n                                  ndata.push(newData);\n\n                                  const ndataCopy = this.state.dataCopy;\n                                  ndataCopy.push(newData);\n\n                                  this.setState({ data:ndata, dataCopy: ndataCopy}, () => resolve());\n                                  this.setAlert(true);\n\n                                } else{\n                                  reject();\n                                  this.setAlert(false);\n                                }\n                            });\n                     }, 1000);\n                 }),\n               onRowUpdate: (newData, oldData) =>\n                 new Promise((resolve, reject) => {\n                   setTimeout(() => {\n                       this.updateDataInDb(newData).then(success => {\n                          if(success){\n                            const ndata = this.state.data;\n                            const index = ndata.indexOf(oldData);\n                            ndata[index] = newData;\n\n                            const ndataCopy = this.state.dataCopy;\n                            var index_copy = ndataCopy.findIndex(a=> a.passengerid == oldData[\"passengerid\"]);\n                            ndataCopy[index_copy] = newData;\n\n                            this.setState({ data:ndata, dataCopy: ndataCopy}, () => resolve());\n                            this.setAlert(true);\n                           } else{\n                             reject();\n                             this.setAlert(false);\n                           }\n                       });\n                   }, 1000)\n                 }),\n               onRowDelete: oldData =>\n                 new Promise((resolve, reject) => {\n                   setTimeout(() => {\n                       this.deleteDataFromDb(oldData).then(success => {\n                            if(success){\n                            let ndata = this.state.data;\n                            const index = ndata.indexOf(oldData);\n                            ndata.splice(index, 1);\n\n                            let ndataCopy = this.state.dataCopy;\n                            var index_copy = ndataCopy.findIndex(a=> a.passengerid == oldData[\"passengerid\"]);\n                            ndataCopy.splice(index_copy,1);\n\n                            this.setState({ data:ndata, dataCopy: ndataCopy}, () => resolve());\n                            this.setAlert(true);\n                           } else{\n                             reject();\n                            this.setAlert(false);\n                           }\n                       });\n                   }, 1000)\n                 }),\n               }}\n               localization={{\n                    header: {\n                        actions: ''\n                    },\n                    body: {\n                        emptyDataSourceMessage: 'No Data to Display',\n                    }\n                }}\n                components={{\n                        Toolbar: props => (\n                                    <div style={{ display: 'flex', padding:'10px 0'}}>\n                                        <div>\n                                          <MTableToolbar {...props}  classes={{ root: \"my-temp-class\" }} />\n                                        </div>\n                                        <div style = {{  borderRadius: '5px', margin: 'auto'}}>\n                                          <SearchBar keyword = {this.state.keyword} setSearchResult = {this.setSearchResult.bind(this)} resetSearchResult = {this.resetSearchResult.bind(this)} disabled = {!this.state.isLoaded} />\n                                        </div>\n                                    </div>\n                                  ),\n\n                }}\n             />\n            <Modal columns = {this.state.columns} setSelectedCategoryData = {this.setSelectedCategoryData} disabled = {!this.state.isLoaded}/>\n          </div>\n          <Alert success= {this.state.success}/>\n        </div>\n      );\n    }\n}\n\nconst style = { padding:'0 8px'}\n\n\nexport default Table;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Chart from \"./components/chart/Chart\"\nimport Table from \"./components/table/Table\"\n\n\nclass App extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      column: [],\n      data: [],\n    };\n  }\n\n  setChartData = (newState) => {\n    this.setState(newState);\n  }\n\n  render = () => {\n    return (\n      <React.Fragment>\n        <div className=\"App\">\n          <Table setChartData = {this.setChartData}/>\n          <Chart column = {this.state.column} data = {this.state.data}/>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}